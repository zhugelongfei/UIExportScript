using UnityEngine;

/**
 * Autogenerated by program
 *
 * Author ZhuGeLongFei
 *
 * Do not edit unless you are sure that you know what you are doning
 * 
 * Generate Info:
 *		Use Get And Set		: $useGetAttribute
 *		Get Data Safe Check : $dataSafeCheck
 */

namespace AutoExportScriptData
{
#foreach($classData in $classDic)
#set($className=$classData.key)
#set($varList=$classData.value)

	public partial class $className
	{
		public GameObject thisObjRoot;
## 变量Start
#foreach($varInfo in $varList)

		#region $varInfo.type $varInfo.variableName
		private const string $varInfo.constStrVaiableName = "$varInfo.variableName";
#if($useGetAttribute)  ##使用Get和Set属性
		private $varInfo.type $varInfo.privateVariableName;
		public $varInfo.type $varInfo.variableName
		{
			get
			{
#if($dataSafeCheck)
				if (null == $varInfo.privateVariableName)
#if($varInfo.isCompArray)
					Debug.LogError("$varInfo.variableName");
#elseif($varInfo.isGameObjectReference)
					$varInfo.privateVariableName = DefaultObjForUI.DefaultGameObject(thisObjRoot, $varInfo.constStrVaiableName);
#else
					$varInfo.privateVariableName = DefaultObjForUI.DefaultComponent<$varInfo.type>(thisObjRoot, $varInfo.constStrVaiableName);
#end
#end
				return $varInfo.privateVariableName;
			}
		}
#else  ##不使用Get和Set属性
#set($varInfo.privateVariableName=$varInfo.variableName)
		public $varInfo.type $varInfo.privateVariableName;
#end
		#endregion
#end
## 变量End
#*
## 析构函数Start
		~$className()
		{
			Clear();
		}
## 析构函数End
*#
## Init函数Start
		public void Init(GameObject objRoot)
		{
			if (objRoot == null)
				return;

			thisObjRoot = objRoot;
			thisObjRoot.SetActive(true);
			UIProgramData[] allData = thisObjRoot.GetComponentsInChildren<UIProgramData>(true);
			if (null == allData || allData.Length <= 0)
				return;

			for (int iLoop = 0; iLoop < allData.Length; iLoop++)
			{
				UIProgramData programData = allData[iLoop];
				if (null != programData.ExportData && programData.ExportData.Length > 0)
				{
					for (int iIndex = 0; iIndex < programData.ExportData.Length; iIndex++)
					{
						UIExportData exportData = programData.ExportData[iIndex];
						switch (exportData.VariableName)
						{
#foreach($varInfo in $varList)
							case $varInfo.constStrVaiableName:
#if($varInfo.isCompArray)
#if($varInfo.isGameObjectReference)
								$varInfo.privateVariableName = System.Array.ConvertAll(exportData.CompReferenceArray, inData => { return inData.gameObject; });
#else
								$varInfo.privateVariableName = System.Array.ConvertAll(exportData.CompReferenceArray, inData => { return ($varInfo.fullType)inData; });
#end ##是否是GameObject引用的判断结束
#else
#if($varInfo.isGameObjectReference)
								$varInfo.privateVariableName = exportData.CompReference.gameObject;
#else
								$varInfo.privateVariableName = ($varInfo.fullType)exportData.CompReference;
#end ##是否是GameObject引用的判断结束
#end
								break;
#end
						}
					}
				}
			}
		}
## Init函数End

## Clear函数Start
		public void Clear()
		{
			thisObjRoot = null;
#foreach($varInfo in $varList)
			$varInfo.privateVariableName = null;
#end
		}
## Clear函数End
	}
#end
}